#### 微服务简介

前端：<pre>标签：原样展示，输入什么样，展示什么样

ELK:分布式日志监控系统

RabbitMQ：消息队列

Docker:微服务部署必备

后端提供API，前端页面渲染

Load balancer：负载均衡

本地部署：VM（virtual machine,虚拟机上），和云服务器上一模一样

一个服务器可以安装多个Docker容器，每个服务实例是一个Docker容器

Nginx：反向代理服务器，负载均衡器，用于跨实例分发请求，还可以处理缓存，访问控制，API度量，监控

共享单个数据库模式：schema

微服务：每个应用，对应着自己的数据库，一个应用一个库，会有数据冗余

**解决一个问题，会出现另一个问题**

不同应用采用不同数据库，可以使应用得到最大的效率

微服务的数据库设计必须是反范式的（三大范式）



SOA：面向服务架构

微服务：没有商业化的SOA，没有集成Web服务规范和企业服务总线（ESB），支持更简单，轻量级的协议，如REST



微服务优势：

第一，它解决了复杂问题。每个服务都有一个明确定义边界的方式，如远程过程调用（RPC）驱动或消息驱动 API。微服务架构模式强制一定程度的模块化

第二，这种架构使得每个服务都可以由一个团队独立专注开发。由于服务较小，使用当前技术重写旧服务将变得更加可行。当编写一个新服务时，他们可以选择当前的技术。

第三，微服务架构模式可以实现每个微服务独立部署。微服务架构模式使得持续部署成为可能。

第四，微服务架构模式使得每个服务能够独立扩展。您可以使用与服务资源要求最匹配的硬件。

微服务缺点：

微服务这个术语的重点过多偏向于服务的规模

微服务另一个主要缺点是由于微服务是一个分布式系统，其使得整体变得复杂。模块间通过语言级方法/过程调用相互调用，这比单体应用要复杂得多

分区数据库架构，事务在单体应用中的实现显得微不足道

测试微服务应用程序也很复杂

实现了跨越多服务变更，实现一个变更服务 A、服务 B 和 服务 C 的需求，其中 A 依赖于 B，且 B 依赖于 C

部署基于微服务的应用程序也是相当复杂的

每个服务都有多个运行时实例。还有更多的移动部件需要配置、部署、扩展和监控，您还需要实现服务发现机制

高度控制部署方式和高度自动化（自动化运维）

一个普遍的起点是使用集群方案，如 Kubernetes，与 Docker 等容器技术相结合



CAP定理：分布式计算理论的公认定理

一个分布式系统只能同时满足一致性，可用性和分区容错性三项的两项

NoSQL不支持事务



服务可用性达到N个9的要求   

IaaS，PaaS，SaaS，实现云计算，云服务，云存储

持续集成和持续交付

#### 基础设施及服务

#### 平台及服务

#### 微服务框架

#### 项目实战

​	

 